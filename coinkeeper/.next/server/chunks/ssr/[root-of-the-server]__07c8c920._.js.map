{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/miraskarasbekov/Desktop/CoinKeeperNew/coinkeeper/src/app/auth/signin/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { signIn } from 'next-auth/react';\nimport { useRouter } from 'next/navigation';\nimport {\n  Box,\n  Button,\n  Container,\n  TextField,\n  Typography,\n  Paper,\n  Alert,\n  Link,\n  Divider,\n} from '@mui/material';\nimport NextLink from 'next/link';\n\nexport default function SignIn() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const router = useRouter();\n\n  // Detect theme on component mount\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme');\n    // Check if dark theme is active in the document\n    const isDarkTheme = \n      savedTheme === 'dark' || \n      (savedTheme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches) ||\n      document.documentElement.classList.contains('dark-theme');\n    \n    setTheme(isDarkTheme ? 'dark' : 'light');\n  }, []);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      console.log('Attempting to sign in with:', email);\n      const result = await signIn('credentials', {\n        email,\n        password,\n        redirect: false,\n      });\n\n      console.log('Sign in result:', result);\n\n      if (result?.error) {\n        setError('Invalid email or password');\n      } else {\n        setError('');\n        console.log('Authentication successful, redirecting to dashboard...');\n        setTimeout(() => {\n          router.push('/');\n          window.location.href = '/';\n        }, 500);\n      }\n    } catch (error) {\n      console.error('Sign-in error:', error);\n      setError('An error occurred. Please try again.');\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\" data-theme={theme}>\n      <Box\n        sx={{\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Paper\n          elevation={3}\n          sx={{\n            padding: 4,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            width: '100%',\n          }}\n        >\n          <Typography component=\"h1\" variant=\"h5\" sx={{ mb: 3 }}>\n            Sign in to CoinKeeper\n          </Typography>\n          {error && (\n            <Alert severity=\"error\" sx={{ mt: 2, width: '100%', mb: 2 }}>\n              {error}\n            </Alert>\n          )}\n          <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1, width: '100%' }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Sign In\n            </Button>\n            <Divider sx={{ my: 2 }}>\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                OR\n              </Typography>\n            </Divider>\n            <Box sx={{ textAlign: 'center' }}>\n              <Typography variant=\"body2\" sx={{ mb: 1 }}>\n                Don't have an account?\n              </Typography>\n              <Button\n                component={NextLink}\n                href=\"/auth/register\"\n                variant=\"outlined\"\n                fullWidth\n              >\n                Create an Account\n              </Button>\n            </Box>\n          </Box>\n        </Paper>\n      </Box>\n    </Container>\n  );\n} "],"names":[],"mappings":"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","debugId":null}}]
}